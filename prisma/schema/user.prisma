model User {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  tenant_id      String    @db.Uuid
  name           String
  login          String    @unique
  password       String
  admin          Boolean   @default(false)
  current_token  String?
  token_expires  DateTime?
  create_date    DateTime  @default(now())
  last_edit_date DateTime?
  tenant         Tenant    @relation(fields: [tenant_id], references: [id], onDelete: Cascade)
  logs           Log[]

  created_ingredients              Ingredient[]            @relation("IngredientCreator")
  edited_ingredients               Ingredient[]            @relation("IngredientEditor")
  created_ingredient_costs         IngredientCost[]        @relation("IngredientCostCreator")
  created_packages                 Package[]               @relation("PackageCreator")
  edited_packages                  Package[]               @relation("PackageEditor")
  created_package_costs            PackageCost[]           @relation("PackageCostCreator")
  created_products                 Product[]               @relation("ProductCreator")
  edited_products                  Product[]               @relation("ProductEditor")
  created_sales                    Sale[]                  @relation("SaleCreator")
  edited_sales                     Sale[]                  @relation("SaleEditor")
  created_product_stock_changes    ProductStockChange[]    @relation("ProductStockChangeCreator")
  created_ingredient_stock_changes IngredientStockChange[] @relation("IngredientStockChangeCreator")
  created_package_stock_changes    PackageStockChange[]    @relation("PackageStockChangeCreator")
  created_clients                  Client[]                @relation("ClientCreator")
  edited_clients                   Client[]                @relation("ClientEditor")
  created_client_addresses         ClientAddress[]         @relation("ClientAddressCreator")
  edited_client_addresses          ClientAddress[]         @relation("ClientAddressEditor")

  created_finance_categories FinanceCategory[] @relation("FinanceCategoryCreator")
  edited_finance_categories  FinanceCategory[] @relation("FinanceCategoryEditor")
  created_bank_accounts      BankAccount[]     @relation("BankAccountCreator")
  edited_bank_accounts       BankAccount[]     @relation("BankAccountEditor")
  created_bank_transactions  BankTransaction[] @relation("BankTransactionCreator")
  created_bills              Bill[]            @relation("BillCreator")
  edited_bills               Bill[]            @relation("BillEditor")
  created_nfes               Nfe[]             @relation("NfeCreator")
  edited_nfes                Nfe[]             @relation("NfeEditor")

  @@map("user")
  @@schema("data")
}
